<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <link href="css/babylon-core.css" rel="stylesheet" />
        <link href="css/styles.css" rel="stylesheet" />
        <title>Babylon v2</title>
    </head>
    <body class="product-body content-body content-edit-body open-banking-body">
        <nav class="sidebar ng-scope">
            <div class="sidebar-wrapper">
                <div class="logo js-logo text-center">
                    <a class="logoImage" href="/babylon-ui-v2/"
                        ><img src="assets/logo_WRAPS.png"
                    /></a>
                </div>
                <ul class="nav nav_ul sidebar-nav-list list-unstyled">
                    <li class="navLinks navLinks__user">
                        <span>John Smith</span
                        ><img class="user__img" src="img/john.png" alt="John Smith" />
                        <ul class="nav nav_ul sidebar-nav-list list-unstyled ng-scope">
                            <li class="navLinks navLinks__user--pending-approvals">
                                <a class="ng-binding" href="pending-approvals.html"
                                    >My pending approvals</a
                                >
                            </li>
                            <li class="navLinks navLinks__user--pending-requests">
                                <a class="ng-binding" href="pending-requests.html"
                                    >Pending requests</a
                                >
                            </li>
                            <li class="navLinks navLinks__portfolio-members">
                                <a class="ng-binding" href="/portfolio-members.html"
                                    >Portfolio members</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li class="navLinks navLinks__rates">
                        <a class="ng-binding" href="rates.html">Rates, fees & dates</a>
                        <ul class="nav nav_ul sidebar-nav-list list-unstyled ng-scope">
                            <li class="navLinks">
                                <a
                                    class="ng-binding"
                                    href="https://gsso.intranet.westpac.com.au/olfma/babylon/#/directEdit"
                                    >Direct update</a
                                >
                            </li>
                            <li class="navLinks">
                                <a
                                    class="ng-binding"
                                    href="https://gsso.intranet.westpac.com.au/olfma/babylon/#/bulkUpload"
                                    >Bulk upload</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li class="navLinks navLinks__product">
                        <a class="ng-binding" href="product-landing.html"
                            >Product structure</a
                        >
                        <ul class="nav nav_ul sidebar-nav-list list-unstyled ng-scope">
                            <li class="navLinks navLinks__open-banking">
                                <a class="ng-binding" href="product.html"
                                    >Open Banking</a
                                >
                            </li>
                        </ul>
                    </li>
                    <li class="navLinks navLinks__reports">
                        <a class="ng-binding" href="reports.html">Reports</a>
                        <ul class="nav nav_ul sidebar-nav-list list-unstyled ng-scope">
                            <li class="navLinks navLinks__websites-tracedability">
                                <a class="ng-binding" href="website-traceability.html"
                                    >Websites traceability</a
                                >
                            </li>
                            <li class="navLinks navLinks__external-traceability">
                                <a class="ng-binding" href="external-traceability.html"
                                    >External traceability</a
                                >
                            </li>
                            <li class="navLinks navLinks__change-logs">
                                <a class="ng-binding" href="change-logs.html"
                                    >Change logs</a
                                >
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>

        <div class="main">
            <div class="container-fluid">
                <div class="well well-lg extraPadding">
                    <h1>Open Banking</h1>
                    <div class="product-detail-container">
                        <p>
                            <span class="product-detail"
                                ><strong>Brand: </strong>Westpac </span
                            ><span class="product-detail"
                                ><strong>Portfolio: </strong> Credit Card</span
                            ><span class="product-detail"
                                ><strong>Product: </strong>Altitude Platinum Black
                            </span>
                        </p>
                    </div>

                    <div class="product-tabs tabcordion tabcordion-tabs">
                        <ul class="tabcordion-tabs tabcordion-tabs-justified">
                            <li class="tabcordion-tab js-collapsible-tab is-active">
                                <a class="js-collapsible" href="#headerDescription">
                                    Header Description
                                    <span class="tabcordion-tab-helper" aria-hidden="true">
                                        Use the arrow keys to select a tab.
                                    </span>
                                </a>
                            </li>
                            <li class="tabcordion-tab js-collapsible-tab">
                                <a class="js-collapsible" href="#additionalInformation">
                                    Additional Information
                                    <span class="tabcordion-tab-helper" aria-hidden="true">
                                        Use the arrow keys to select a tab.
                                    </span>
                                </a>
                            </li>
                            <li class="tabcordion-tab js-collapsible-tab">
                                <a class="js-collapsible" href="#bundles">
                                    Bundles
                                    <span class="tabcordion-tab-helper" aria-hidden="true">
                                        Use the arrow keys to select a tab.
                                    </span>
                                </a>
                            </li>
                            <li class="tabcordion-tab js-collapsible-tab">
                                <a class="js-collapsible" href="#features">
                                    Features
                                    <span class="tabcordion-tab-helper" aria-hidden="true">
                                        Use the arrow keys to select a tab.
                                    </span>
                                </a>
                            </li>
                            <li class="tabcordion-tab js-collapsible-tab">
                                <a class="js-collapsible" href="#constraints">
                                    Constraints
                                    <span class="tabcordion-tab-helper" aria-hidden="true">
                                        Use the arrow keys to select a tab.
                                    </span>
                                </a>
                            </li>
                            <li class="tabcordion-tab js-collapsible-tab">
                                <a class="js-collapsible" href="#eligibility">
                                    Eligibility
                                    <span class="tabcordion-tab-helper" aria-hidden="true">
                                        Use the arrow keys to select a tab.
                                    </span>
                                </a>
                            </li>
                            <li class="tabcordion-tab js-collapsible-tab">
                                <a class="js-collapsible" href="#fees">
                                    Fees
                                    <span class="tabcordion-tab-helper" aria-hidden="true">
                                        Use the arrow keys to select a tab.
                                    </span>
                                </a>
                            </li>
                            <li class="tabcordion-tab js-collapsible-tab">
                                <a class="js-collapsible" href="#depositRates">
                                    Deposit Rates
                                    <span class="tabcordion-tab-helper" aria-hidden="true">
                                        Use the arrow keys to select a tab.
                                    </span>
                                </a>
                            </li>
                            <li class="tabcordion-tab js-collapsible-tab">
                                <a class="js-collapsible" href="#lendingRates">
                                    Lending Rates
                                    <span class="tabcordion-tab-helper" aria-hidden="true">
                                        Use the arrow keys to select a tab.
                                    </span>
                                </a>
                            </li>
                        </ul>

                        <div
                            id="headerDescription"
                            class="collapsible-body is-open"
                            aria-hidden="false"
                            tabindex="-1"
                        >
                            <div class="tabcordion-body">
                                <div class="tabcordion-content">
                                    <div class="action-bar">
                                        <a
                                            class="btn btn-soft btn-primary btn-large"
                                            href="product-view.html"
                                        >
                                            Cancel edit
                                        </a>
                                    </div>
                                    <div id="jsoneditor"></div>
                                </div>
                                <div class="product-submit-container">
                                    <select
                                        id="approval"
                                        name="approval"
                                        class="input-field input-field-large input-width-20"
                                    >
                                        <option value="None">Select Approver</option>
                                        <option value="Luke Defina">Luke Defina</option>
                                        <option value="Kang Lee">Kang Lee</option>
                                        <option value="Nam Phu">Nam Phu</option>
                                    </select>
                                    <a
                                        href="product-view-pending.html"
                                        class="btn btn-primary btn-large"
                                    >
                                        Submit
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div
                            id="additionalInformation"
                            class="collapsible-body"
                            aria-hidden="true"
                            tabindex="-1"
                        >
                            <div class="tabcordion-body">
                                <div class="tabcordion-content">
                                    <p>JSON goes here</p>
                                </div>
                            </div>
                        </div>
                        <div
                            id="bundles"
                            class="collapsible-body"
                            aria-hidden="true"
                            tabindex="-1"
                        >
                            <div class="tabcordion-body">
                                <div class="tabcordion-content">
                                    <p>JSON goes here</p>
                                </div>
                            </div>
                        </div>
                        <div
                            id="features"
                            class="collapsible-body"
                            aria-hidden="true"
                            tabindex="-1"
                        >
                            <div class="tabcordion-body">
                                <div class="tabcordion-content">
                                    <div class="action-bar">
                                        <a
                                            class="btn btn-soft btn-primary btn-large"
                                            href="product-view.html#features"
                                        >
                                            Cancel edit
                                        </a>
                                    </div>
                                    <div id="jsoneditor-features"></div>
                                </div>
                                <div class="product-submit-container">
                                    <select
                                        id="approval"
                                        name="approval"
                                        class="input-field input-field-large input-width-20"
                                    >
                                        <option value="None">Select Approver</option>
                                        <option value="Luke Defina">Luke Defina</option>
                                        <option value="Kang Lee">Kang Lee</option>
                                        <option value="Nam Phu">Nam Phu</option>
                                    </select>
                                    <button type="button" class="btn btn-primary btn-large">
                                        Submit
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div
                            id="constraints"
                            class="collapsible-body"
                            aria-hidden="true"
                            tabindex="-1"
                        >
                            <div class="tabcordion-body">
                                <div class="tabcordion-content">
                                    <p>JSON goes here</p>
                                </div>
                            </div>
                        </div>
                        <div
                            id="eligibility"
                            class="collapsible-body"
                            aria-hidden="true"
                            tabindex="-1"
                        >
                            <div class="tabcordion-body">
                                <div class="tabcordion-content">
                                    <p>JSON goes here</p>
                                </div>
                                <div class="product-submit-container">
                                    <select
                                        id="approval"
                                        name="approval"
                                        class="input-field input-field-large input-width-20"
                                    >
                                        <option value="None">Select Approver</option>
                                        <option value="Luke Defina">Luke Defina</option>
                                        <option value="Kang Lee">Kang Lee</option>
                                        <option value="Nam Phu">Nam Phu</option>
                                    </select>
                                    <button type="button" class="btn btn-primary btn-large">
                                        Submit
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div
                            id="fees"
                            class="collapsible-body"
                            aria-hidden="true"
                            tabindex="-1"
                        >
                            <div class="tabcordion-body">
                                <div class="tabcordion-content">
                                    <p>JSON goes here</p>
                                </div>
                                <div class="product-submit-container">
                                    <select
                                        id="approval"
                                        name="approval"
                                        class="input-field input-field-large input-width-20"
                                    >
                                        <option value="None">Select Approver</option>
                                        <option value="Luke Defina">Luke Defina</option>
                                        <option value="Kang Lee">Kang Lee</option>
                                        <option value="Nam Phu">Nam Phu</option>
                                    </select>
                                    <button type="button" class="btn btn-primary btn-large">
                                        Submit
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div
                            id="depositRates"
                            class="collapsible-body"
                            aria-hidden="true"
                            tabindex="-1"
                        >
                            <div class="tabcordion-body">
                                <div class="tabcordion-content">
                                    <p>JSON goes here</p>
                                </div>
                                <div class="product-submit-container">
                                    <select
                                        id="approval"
                                        name="approval"
                                        class="input-field input-field-large input-width-20"
                                    >
                                        <option value="None">Select Approver</option>
                                        <option value="Luke Defina">Luke Defina</option>
                                        <option value="Kang Lee">Kang Lee</option>
                                        <option value="Nam Phu">Nam Phu</option>
                                    </select>
                                    <button type="button" class="btn btn-primary btn-large">
                                        Submit
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div
                            id="lendingRates"
                            class="collapsible-body"
                            aria-hidden="true"
                            tabindex="-1"
                        >
                            <div class="tabcordion-body">
                                <div class="tabcordion-content">
                                    <p>JSON goes here</p>
                                </div>
                                <div class="product-submit-container">
                                    <select
                                        id="approval"
                                        name="approval"
                                        class="input-field input-field-large input-width-20"
                                    >
                                        <option value="None">Select Approver</option>
                                        <option value="Luke Defina">Luke Defina</option>
                                        <option value="Kang Lee">Kang Lee</option>
                                        <option value="Nam Phu">Nam Phu</option>
                                    </select>
                                    <button type="button" class="btn btn-primary btn-large">
                                        Submit
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <script src="js/scripts.js"></script>
        <script>
            // create the editor
            var container = document.getElementById('jsoneditor');
            var options = {
                mode: 'form',
                modes: ['code', 'text', 'form'],
                name: 'Altitude Platinum Black',
                navigationBar: false,
                autocomplete: {
                    getOptions: function() {
                        return [
                            '[[Rates#CC|Altitude.CCAL.effectiveFrom]]',
                            '[[Rates#CC|Altitude.CCAL.effectiveTo]]',
                            '[[Rates#CC|Altitude.CCAL.lastUpdated]]',
                            '[[Rates#CC|Altitude.CCAL.CashAdvanceRate{showAsDecimal}]]',
                            '[[Rates#CC|Altitude.CCAL.BalanceTransferRate{showAsDecimal}]]'
                        ];
                    }
                }
            };
            var editor = new JSONEditor(container, options);

            // set json
            var json = {
                productId: 'Altitude Platinum Black',
                effectiveFrom: '[[Rates#CC|Altitude.CCAL.effectiveFrom]]',
                effectiveTo: '[[Rates#CC|Altitude.CCAL.effectiveTo]]',
                lastUpdated: '[[Rates#CC|Altitude.CCAL.lastUpdated]]',
                productCategory: 'CRED_AND_CHRG_CARDS',
                name: 'Altitude Black Card',
                description:
                    'Westpac\u2019s most rewarding card offering you a choice of two great rewards programs \u2013 Altitude Rewards and Altitude Qantas with our highest points earn rate, premium travel and lifestyle services.',
                brand: 'Westpac',
                brandName: 'Westpac',
                applicationUri:
                    'https://www.westpac.com.au/personal-banking/credit-cards/reward/altitude-black/',
                isTailored: false
            };
            editor.set(json);
            editor.expandAll();

            // create the editor
            var container2 = document.getElementById('jsoneditor-features');
            var options2 = {
                mode: 'form',
                modes: ['code', 'text', 'form'],
                name: 'Altitude Platinum Black',
                navigationBar: false,
                autocomplete: {
                    getOptions: function() {
                        return [
                            '[[Rates#CC|Altitude.CCAL.effectiveFrom]] // 3.2',
                            '[[Rates#CC|Altitude.CCAL.BalanceTransferRate{showCustomZero}]] // 10',
                            '[[Rates#CC|Altitude.CCAL.BalanceTransferTerm{none}]] // 5000',
                            '[[Rates#CC|Altitude.CCAL.CashAdvanceRate{showAsDecimal}]] // 10',
                            '[[Rates#CC|Altitude.CCAL.EffectiveDate{longDateDisplay}]] // 10-10-19'
                        ];
                    }
                }
            };
            var editor2 = new JSONEditor(container2, options2);

            // set json
            var json2 = {
                features: [
                    {
                        featureType: 'INTEREST_FREE',
                        'additionalValue *': 'P45D',
                        additionalInfo: '',
                        additionalInfoUri: ''
                    },
                    {
                        featureType: 'DIGITAL_BANKING',
                        additionalValue: '',
                        additionalInfo: '',
                        additionalInfoUri: ''
                    },
                    {
                        featureType: 'NOTIFICATIONS',
                        additionalValue: '',
                        additionalInfo: '',
                        additionalInfoUri: ''
                    },
                    {
                        featureType: 'LOYALTY_PROGRAM',
                        'additionalValue *': 'Altitude Rewards',
                        additionalInfo: '',
                        additionalInfoUri: ''
                    },
                    {
                        featureType: 'LOYALTY_PROGRAM',
                        'additionalValue *': 'Altitude Qantas',
                        additionalInfo: '',
                        additionalInfoUri: ''
                    },
                    {
                        featureType: 'INSURANCE',
                        'additionalValue *': 'Overseas Travel Insurance ',
                        additionalInfo: '',
                        additionalInfoUri: ''
                    },
                    {
                        featureType: 'COMPLEMENTARY_PRODUCT_DISCOUNTS',
                        'additionalValue *':
                            'Premium concierge services  Dedicated Westpac Concierge services are oncall 24/7 to fulfil your requests from restaurant bookings and party planning to tickets to your favourite game. \nComplimentary lounge passes',
                        additionalInfo: '',
                        additionalInfoUri: ''
                    },
                    {
                        featureType: 'OTHER',
                        'additionalValue *':
                            'Uncapped rewards  The skys the limit with no cap on earning points. Plus earn points faster by adding one additional cardholder at no extra cost.',
                        additionalInfo: '',
                        additionalInfoUri: ''
                    },
                    {
                        featureType: 'OTHER',
                        'additionalValue *':
                            'Use our SmartPlan repayment planner to break large purchases or balances down into regular instalments while keeping interestfree days.1.',
                        additionalInfo: '',
                        additionalInfoUri: ''
                    }
                ]
            };
            editor2.set(json2);
            editor2.expandAll();
        </script>
        <script>
            var brand = `<select class="input-field" value="">
                <option value="">Select</option>
                <option value="option-1" selected>Westpac</option>
                <option value="option-2">St George</option>
                <option value="option-3">Bank of Melbourne</option>
                <option value="option-4">Bank SA</option>
            </select>`;

            var isTailored = `<select class="input-field" value="">
                <option value="">Select</option>
                <option value="option-1">True</option>
                <option value="option-2" selected>False</option>
            </select>`;

            var productCategory = `<select class="input-field" value="">
                <option value="">Select</option>
                <option value="option-1">TRANS_AND_SAVINGS_ACCOUNTS</option>
                <option value="option-2">TERM_DEPOSITS</option>
                <option value="option-3">TRAVEL_CARDS</option>
                <option value="option-4">REGULATED_TRUST_ACCOUNTS</option>
                <option value="option-5">RESIDENTIAL_MORTGAGES</option>
                <option value="option-6" selected>CRED_AND_CHRG_CARDS</option>
                <option value="option-7">PERS_LOANS</option>
                <option value="option-8">MARGIN_LOANS</option>
                <option value="option-9">LEASES</option>
                <option value="option-10">TRADE FINANCE</option>
            </select>`;

            var featureTypeOTHER = `<select class="input-field" value="">
                <option value="">Select</option>
                <option value="option-1">INTEREST_FREE</option>
                <option value="option-2">DIGITAL_BANKING</option>
                <option value="option-3">NOTIFICATIONS</option>
                <option value="option-4">LOYALTY_PROGRAM</option>
                <option value="option-5">INSURANCE</option>
                <option value="option-6">COMPLEMENTARY_PRODUCT_DISCOUNTS</option>
                <option value="option-7" selected>OTHER</option>
            </select>`;

            $('tr[data-field="productCategory"] .jsoneditor-value').replaceWith(
                productCategory
            );
            $('tr[data-field="brand"] .jsoneditor-value').replaceWith(brand);
            $('tr[data-field="brandName"] .jsoneditor-value').replaceWith(
                brand
            );
            $('tr[data-field="isTailored"] .jsoneditor-value').replaceWith(
                isTailored
            );
            $(
                'tr[data-field="featureType"]:eq(0) .jsoneditor-value'
            ).replaceWith(
                `<select class="input-field" value="">
                <option value="">Select</option>
                <option value="option-1" selected>INTEREST_FREE</option>
                <option value="option-2">DIGITAL_BANKING</option>
                <option value="option-3">NOTIFICATIONS</option>
                <option value="option-4">LOYALTY_PROGRAM</option>
                <option value="option-5">INSURANCE</option>
                <option value="option-6">COMPLEMENTARY_PRODUCT_DISCOUNTS</option>
                <option value="option-7">OTHER</option>
            </select>`
            );
            $(
                'tr[data-field="featureType"]:eq(1) .jsoneditor-value'
            ).replaceWith(
                `<select class="input-field" value="">
                <option value="">Select</option>
                <option value="option-1">INTEREST_FREE</option>
                <option value="option-2" selected>DIGITAL_BANKING</option>
                <option value="option-3">NOTIFICATIONS</option>
                <option value="option-4">LOYALTY_PROGRAM</option>
                <option value="option-5">INSURANCE</option>
                <option value="option-6">COMPLEMENTARY_PRODUCT_DISCOUNTS</option>
                <option value="option-7">OTHER</option>
            </select>`
            );
            $(
                'tr[data-field="featureType"]:eq(2) .jsoneditor-value'
            ).replaceWith(
                `<select class="input-field" value="">
                <option value="">Select</option>
                <option value="option-1">INTEREST_FREE</option>
                <option value="option-2">DIGITAL_BANKING</option>
                <option value="option-3" selected>NOTIFICATIONS</option>
                <option value="option-4">LOYALTY_PROGRAM</option>
                <option value="option-5">INSURANCE</option>
                <option value="option-6">COMPLEMENTARY_PRODUCT_DISCOUNTS</option>
                <option value="option-7">OTHER</option>
            </select>`
            );
            $(
                'tr[data-field="featureType"]:eq(3) .jsoneditor-value'
            ).replaceWith(
                `<select class="input-field" value="">
                <option value="">Select</option>
                <option value="option-1">INTEREST_FREE</option>
                <option value="option-2">DIGITAL_BANKING</option>
                <option value="option-3">NOTIFICATIONS</option>
                <option value="option-4" selected>LOYALTY_PROGRAM</option>
                <option value="option-5">INSURANCE</option>
                <option value="option-6">COMPLEMENTARY_PRODUCT_DISCOUNTS</option>
                <option value="option-7">OTHER</option>
            </select>`
            );
            $(
                'tr[data-field="featureType"]:eq(4) .jsoneditor-value'
            ).replaceWith(
                `<select class="input-field" value="">
                <option value="">Select</option>
                <option value="option-1">INTEREST_FREE</option>
                <option value="option-2">DIGITAL_BANKING</option>
                <option value="option-3">NOTIFICATIONS</option>
                <option value="option-4">LOYALTY_PROGRAM</option>
                <option value="option-5" selected>INSURANCE</option>
                <option value="option-6">COMPLEMENTARY_PRODUCT_DISCOUNTS</option>
                <option value="option-7">OTHER</option>
            </select>`
            );
            $(
                'tr[data-field="featureType"]:eq(5) .jsoneditor-value'
            ).replaceWith(
                `<select class="input-field" value="">
                <option value="">Select</option>
                <option value="option-1">INTEREST_FREE</option>
                <option value="option-2">DIGITAL_BANKING</option>
                <option value="option-3">NOTIFICATIONS</option>
                <option value="option-4">LOYALTY_PROGRAM</option>
                <option value="option-5">INSURANCE</option>
                <option value="option-6" selected>COMPLEMENTARY_PRODUCT_DISCOUNTS</option>
                <option value="option-7">OTHER</option>
            </select>`
            );
            $(
                'tr[data-field="featureType"]:eq(6) .jsoneditor-value'
            ).replaceWith(featureTypeOTHER);
            $(
                'tr[data-field="featureType"]:eq(7) .jsoneditor-value'
            ).replaceWith(featureTypeOTHER);
            $(
                'tr[data-field="featureType"]:eq(8) .jsoneditor-value'
            ).replaceWith(featureTypeOTHER);

            console.log(
                $('.jsoneditor-tree-inner > .jsoneditor-tree > tbody > tr')
            );

            $('.jsoneditor-tree-inner > .jsoneditor-tree > tbody > tr').prepend(
                `<td class="field-controls"><span class="icon icon-small icon-transfer"></span></td><td class="field-controls"><span class="icon icon-small icon-add-circle"></span></td><td class="field-controls"><span class="icon icon-small icon-remove-circle"></span></td>`
            );
        </script>
        <script>
            if (window.location.href.indexOf('#features') > -1) {
                $('a[href$="#features"]').trigger('click');
            }
        </script>
    </body>
</html>
